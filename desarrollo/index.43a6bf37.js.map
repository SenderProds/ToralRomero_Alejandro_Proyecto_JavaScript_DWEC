{"mappings":"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","sources":["fuente/js/script.js"],"sourcesContent":["let btnIniciarSesion = document.getElementById(\"btnIniciarSesion\");\r\nlet formIniciarSesion = document.getElementById(\"inicioSesion\");\r\n\r\nlet btnRegistro = document.getElementById('btnRegistro');\r\nlet formRegistro = document.getElementById('registro');\r\n\r\nlet desplegarCategorias = document.getElementById('desplegar');\r\nlet btnCategorias = document.getElementById('btnCategorias');\r\n\r\nlet contenido = document.getElementById('contenido');\r\nlet productosContenedor = document.getElementById('productos');\r\n\r\n//Comprueba si los usuarios de la api estan en el almacenamiento\r\nif (!localStorage.getItem('users')) {\r\n\r\n  fetch(\"https://fakestoreapi.com/users\")\r\n    .then((res) => res.text())\r\n    .then((json) => {\r\n\r\n      localStorage.setItem(\"users\", json);\r\n      \r\n\r\n    });\r\n}\r\n\r\n\r\n//Desplegable Categorias\r\nfetch('https://fakestoreapi.com/products/categories')\r\n  .then(res => res.json())\r\n  .then(json => {\r\n\r\n    json.forEach((categoria) => {\r\n      let boton = document.createElement('button');\r\n      boton.innerHTML = categoria;\r\n      \r\n      desplegarCategorias.appendChild(boton);\r\n    })\r\n   \r\n\r\n  });\r\n\r\n\r\n\r\n  fetch('https://fakestoreapi.com/products')\r\n            .then(res=>res.json())\r\n            .then(json=>{\r\n              \r\n              generarListaProductos(json);\r\n            });\r\n\r\n\r\n\r\nfunction generarListaProductos(productos){\r\n  let ul = document.createElement('ul');\r\n  productos.forEach((producto) => {\r\n    let li = document.createElement('li');\r\n    let img = document.createElement('img');\r\n    let pNombre = document.createElement('p');\r\n    let pPrecio = document.createElement('p');\r\n\r\n    img.src = producto.image;\r\n    pNombre.textContent = producto.title;\r\n    pPrecio.textContent = producto.price;\r\n    agregarHijos([img, pNombre, pPrecio], li);\r\n    ul.appendChild(li);\r\n  });\r\n\r\n  let liCarrito = document.createElement('li');\r\n  liCarrito.innerHTML = '<i class=\"bi bi-cart4\"></i>'\r\n\r\n  productosContenedor.appendChild(ul);\r\n}\r\n\r\n\r\n\r\n/**\r\n * Agrega varios hijos a un mismo padre\r\n * @param {*} param Array con cada uno de los hijos\r\n * @param {*} padre El padre al que se desea agregar los hijos\r\n */\r\nfunction agregarHijos([...hijos], padre){\r\n  hijos.forEach((hijo) => {\r\n    padre.appendChild(hijo);\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//Categorias\r\nbtnCategorias.addEventListener('click', (e) => {\r\n  btnCategorias.querySelector(\"i\").classList.toggle('bi-caret-down-fill');\r\n  btnCategorias.querySelector(\"i\").classList.toggle('bi-caret-down');\r\n\r\n\r\n  desplegarCategorias.classList.toggle('ocultar');\r\n  desplegarCategorias.classList.toggle('desplegar');\r\n\r\n});\r\n\r\n\r\n//Registro\r\n\r\nbtnRegistro.addEventListener(\"click\", (e) => {\r\n\r\n  ocultarContenido([formIniciarSesion, contenido]);\r\n \r\n  document.body.style.height = \"100vh\"; ////\r\n  formRegistro.classList.remove(\"ocultar\");\r\n  formRegistro.classList.add(\"registro\");\r\n});\r\n\r\n\r\n\r\n\r\n\r\nformRegistro.addEventListener('keydown', (e) => {\r\n  if (!e.target.previousElementSibling.previousElementSibling.value != \" \" && e.target.previousElementSibling.previousElementSibling != null) {\r\n\r\n    e.preventDefault();\r\n    formRegistro.appendChild(mensajeErrorFormulario(\"Los campos anteriores tienen que ser validos\", formRegistro));\r\n\r\n  }\r\n\r\n});\r\n\r\nformRegistro.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n  let inputsRegistro = document.querySelectorAll('#registro input:not([type=\"submit\"])');\r\n\r\n  console.log(inputsRegistro);\r\n  let camposRellenos = Array.from(inputsRegistro).every((campo) => {\r\n    return campo.value != \"\";\r\n  });\r\n\r\n  if (camposRellenos) {\r\n    console.log('Agregando');\r\n    agregarUsuario(inputsRegistro);\r\n  }\r\n\r\n});\r\n\r\n//Iniciar Sesion \r\n\r\nbtnIniciarSesion.addEventListener(\"click\", (e) => {\r\n  document.body.style.height = \"100vh\"; ////\r\n  ocultarContenido([formRegistro]);\r\n  formIniciarSesion.classList.remove(\"ocultar\");\r\n  formIniciarSesion.classList.add(\"login\");\r\n});\r\n\r\n\r\n//Formulario de inicio de sesion\r\nformIniciarSesion.addEventListener(\"submit\", (e) => {\r\n  e.preventDefault();\r\n  let username = document.getElementById(\"username\").value;\r\n  let password = document.getElementById(\"password\").value;\r\n  iniciarSesion(username, password);\r\n});\r\n\r\n\r\n\r\n/**\r\n * Lo elementos que esten visibles se ocultan\r\n * @param {*} param0 Elementos \r\n */\r\nfunction ocultarContenido([...elementos]){\r\n  elementos.forEach((elemento) => {\r\n    if (!elemento.classList.contains('ocultar')) {\r\n      elemento.classList.add('ocultar');\r\n    }\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Si las credenciales son correctas iniciar sesion\r\n * @param {*} usr Nombre de usuario\r\n * @param {*} password Clave del usuario\r\n */\r\nfunction iniciarSesion(usr, password) {\r\n  let resultado = comprobarUsuario(usr, password);\r\n  console.log(resultado);\r\n  (resultado) ? console.log(\"Sesion Iniciada\") :\r\n    formIniciarSesion.appendChild(mensajeErrorFormulario(\"El nombre de usuario o clave no es correcto\", formIniciarSesion));\r\n\r\n\r\n}\r\n\r\n/**\r\n * Genera un mensaje de error que se pone encima del formulario\r\n * @param {*} msj Mensaje que va a salir\r\n * @param {*} formulario El formulario\r\n * @returns Devuelve el div con el mensaje\r\n */\r\nfunction mensajeErrorFormulario(msj, formulario) {\r\n  let rectFormulario = formulario.getBoundingClientRect();\r\n  let divIncorrecto = document.createElement('div');\r\n\r\n  if (!divIncorrecto.classList.contains('incorrecto')) {\r\n    divIncorrecto.style.top = (rectFormulario.top - 60) + \"px\";\r\n\r\n    divIncorrecto.textContent += msj;\r\n    divIncorrecto.classList.add('incorrecto');\r\n    return divIncorrecto;\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Devuelve si alguno de los usuarios en el almacenamiento coincide con las credenciales\r\n * @param {*} username Nombre de usuario\r\n * @param {*} password Clave del usuario\r\n * @returns Booleano\r\n */\r\nfunction comprobarUsuario(username, password) {\r\n  let usuarios = getUsuarios();\r\n\r\n  return usuarios.some((objeto) => {\r\n    return objeto.username == username && objeto.password == password\r\n  });\r\n\r\n}\r\n\r\n\r\n/**\r\n * Retorna un array con todos los usuarios de la api\r\n * @returns Array usuarios\r\n */\r\nfunction getUsuarios() {\r\n  return JSON.parse(localStorage.getItem('users'));\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * Agrega el usuario al almacenamiento local\r\n * @param {*} campos Todos los campos del formulario\r\n */\r\nfunction agregarUsuario(campos) {\r\n  let nombre = document.getElementById('nombre').value;\r\n  let apellidos = document.getElementById('apellidos').value;\r\n  let telefono = document.getElementById('telefono').value;\r\n  let dni = document.getElementById('dni').value;\r\n  let edad = document.getElementById('edad').value;\r\n  let username = document.getElementById('usernameReg').value;\r\n  let password = document.getElementById('passwordReg').value;\r\n\r\n\r\n\r\n  let usuarios = getUsuarios();\r\n\r\n  let nuevoUsuario = {\r\n    name: {\r\n      firstname: nombre,\r\n      lastname: apellidos\r\n    },\r\n    password: password,\r\n    phone: telefono,\r\n    username: username,\r\n    dni: dni,\r\n    edad: edad\r\n  }\r\n\r\n  usuarios.push(nuevoUsuario);\r\n\r\n  localStorage.setItem(\"users\", JSON.stringify(usuarios));\r\n}"],"names":[],"version":3,"file":"index.43a6bf37.js.map","sourceRoot":"/__parcel_source_root/"}