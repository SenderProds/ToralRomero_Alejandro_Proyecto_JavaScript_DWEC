{"mappings":"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","sources":["<anon>","fuente/js/carrito.js"],"sourcesContent":["btnCarritoHeader.addEventListener(\"click\", (e)=>{\n    if (contenido.classList.contains(\"ocultar\")) contenido.classList.remove(\"ocultar\");\n    if (!productosContenedor.classList.contains(\"ocultar\")) {\n        productosContenedor.classList.add(\"ocultar\");\n        productosFiltros.classList.add(\"ocultar\");\n        productosFiltros.classList.remove(\"display-flex\");\n    }\n    crearCarrito();\n});\nfunction eventoBtnCarrito() {\n    let botonesCarrito = document.querySelectorAll(\".carritoProducto\");\n    botonesCarrito.forEach((btnCarrito)=>{\n        btnCarrito.addEventListener(\"click\", (e)=>{\n            if (e.target.tagName == \"I\") {\n                btnCarritoHeader.classList.add(\"agregarCarrito\");\n                agregarCarrito(e.target.parentNode.dataset.id);\n            }\n        });\n    });\n}\nasync function crearCarrito() {\n    let sectionCarrito = document.createElement(\"section\");\n    sectionCarrito.id = \"carrito\";\n    let h1Carrito = document.createElement(\"h1\");\n    let listaCarrito = document.createElement(\"ul\");\n    let btnRealizarPedido = document.createElement(\"button\");\n    if (document.getElementById(\"carrito\")) contenido.removeChild(document.getElementById(\"carrito\"));\n    let pPrecio = document.createElement(\"p\");\n    let precioTotal = 0;\n    let carrito = obtenerCarrito();\n    for(const key in carrito){\n        let producto = await obtenerProductoPorId(key);\n        console.log(producto);\n        let li = document.createElement(\"li\");\n        let img = document.createElement(\"img\");\n        let titulo = document.createElement(\"p\");\n        let precio = document.createElement(\"p\");\n        let unidades = document.createElement(\"p\");\n        let btnAgregar = document.createElement(\"button\");\n        let btnQuitarUnidades = document.createElement(\"button\");\n        let btnEliminarProducto = document.createElement(\"button\");\n        precioTotal += producto.price * carrito[key];\n        img.src = producto.image;\n        titulo.innerHTML = producto.title;\n        precio.innerHTML = producto.price;\n        unidades.innerHTML = carrito[key];\n        unidades.className = \"unidadesCarrito\";\n        btnAgregar.innerHTML = '<i class=\"bi bi-plus-circle\"> </i> <span>Agregar</span>';\n        btnQuitarUnidades.innerHTML = '<i class=\"bi bi-x-circle\"></i> <span>Quitar</span>';\n        btnEliminarProducto.innerHTML = '<i class=\"bi bi-trash\"></i> <span>Eliminar del Carrito</span>';\n        btnAgregar.addEventListener(\"click\", (e)=>{\n            if (e.target.tagName == \"I\") {\n                agregarCarrito(producto.id);\n                actualizarUnidadesCarrito(e.target.parentNode.parentNode.querySelector(\".unidadesCarrito\"), producto.id);\n            }\n        });\n        btnQuitarUnidades.addEventListener(\"click\", (e)=>{\n            if (e.target.tagName == \"I\") {\n                let unid = eliminarUnidadesCarrito(producto.id);\n                actualizarUnidadesCarrito(e.target.parentNode.parentNode.querySelector(\".unidadesCarrito\"), producto.id);\n                console.log(unid);\n                if (unid < 1 || unid == undefined) crearCarrito();\n            }\n        });\n        btnEliminarProducto.addEventListener(\"click\", (e)=>{\n            if (e.target.tagName == \"I\") {\n                eliminarProductoCarrito(producto.id);\n                crearCarrito();\n            }\n        });\n        agregarHijos([\n            img,\n            titulo,\n            precio,\n            unidades,\n            btnAgregar,\n            btnQuitarUnidades,\n            btnEliminarProducto\n        ], li);\n        listaCarrito.appendChild(li);\n    }\n    btnRealizarPedido.innerHTML = \"Realizar Pedido\";\n    pPrecio.innerHTML = \"Precio Total: \" + precioTotal;\n    h1Carrito.textContent = \"Carrito\";\n    agregarHijos([\n        h1Carrito,\n        listaCarrito,\n        pPrecio,\n        btnRealizarPedido\n    ], sectionCarrito);\n    contenido.appendChild(sectionCarrito);\n}\nfunction actualizarUnidadesCarrito(elemento, id) {\n    console.log(obtenerUnidadesProductoCarrito(id));\n    elemento.innerHTML = obtenerUnidadesProductoCarrito(id);\n}\nfunction eliminarUnidadesCarrito(id) {\n    let carrito = obtenerCarrito();\n    if (carrito[id] - 1 < 1) delete carrito[id];\n    else carrito[id]--;\n    localStorage.setItem(\"carrito\", JSON.stringify(carrito));\n    return carrito[id];\n}\nfunction eliminarProductoCarrito(id) {\n    let carrito = obtenerCarrito();\n    delete carrito[id];\n    localStorage.setItem(\"carrito\", JSON.stringify(carrito));\n}\n/**\r\n * Obtiene las unidades que hay de un producto en el carrito\r\n * @param {*} id Id del producto\r\n * @returns Numero de unidades\r\n */ function obtenerUnidadesProductoCarrito(id) {\n    let carrito = obtenerCarrito();\n    return carrito[id];\n}\n/**\r\n * Agrega un producto al carrito\r\n * @param {*} id Id del producto\r\n */ function agregarCarrito(id) {\n    if (obtenerCarrito()) {\n        let carrito = obtenerCarrito();\n        let unidades = 1;\n        if (carrito[id]) unidades = carrito[id] + 1;\n        carrito[id] = unidades;\n        localStorage.setItem(\"carrito\", JSON.stringify(carrito));\n    } else {\n        let objCarrito = {};\n        objCarrito[id] = 1;\n        localStorage.setItem(\"carrito\", JSON.stringify(objCarrito));\n    }\n}\n/**\r\n * Obtiene el carrito\r\n * @returns Objeto Carrito\r\n */ function obtenerCarrito() {\n    if (localStorage.getItem(\"carrito\")) return JSON.parse(localStorage.getItem(\"carrito\"));\n    else return false;\n}\n\n//# sourceMappingURL=index.65eaed76.js.map\n","\r\n\r\n\r\n\r\nbtnCarritoHeader.addEventListener('click', (e) => {\r\n    if (contenido.classList.contains('ocultar')) {\r\n        contenido.classList.remove('ocultar');\r\n    }\r\n\r\n    if (!productosContenedor.classList.contains('ocultar')) {\r\n        productosContenedor.classList.add('ocultar');\r\n        productosFiltros.classList.add('ocultar');\r\n        productosFiltros.classList.remove('display-flex');\r\n\r\n\r\n    }\r\n\r\n    crearCarrito();\r\n});\r\n\r\n\r\n\r\nfunction eventoBtnCarrito() {\r\n    let botonesCarrito = document.querySelectorAll(\".carritoProducto\");\r\n\r\n    botonesCarrito.forEach((btnCarrito) => {\r\n        btnCarrito.addEventListener(\"click\", (e) => {\r\n            if (e.target.tagName == 'I') {\r\n                btnCarritoHeader.classList.add(\"agregarCarrito\");\r\n                agregarCarrito(e.target.parentNode.dataset.id);\r\n\r\n\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\nasync function crearCarrito() {\r\n    let sectionCarrito = document.createElement('section');\r\n    sectionCarrito.id = 'carrito';\r\n    let h1Carrito = document.createElement('h1');\r\n    let listaCarrito = document.createElement('ul');\r\n    let btnRealizarPedido = document.createElement('button');\r\n    if (document.getElementById('carrito')) {\r\n        contenido.removeChild(document.getElementById('carrito'));\r\n    }\r\n\r\n    let pPrecio = document.createElement('p');\r\n    let precioTotal = 0;\r\n    let carrito = obtenerCarrito();\r\n\r\n    for (const key in carrito) {\r\n        let producto = await obtenerProductoPorId(key);\r\n        console.log(producto);\r\n        let li = document.createElement('li');\r\n        let img = document.createElement('img');\r\n        let titulo = document.createElement('p');\r\n        let precio = document.createElement('p');\r\n        let unidades = document.createElement('p');\r\n        let btnAgregar = document.createElement('button');\r\n        let btnQuitarUnidades = document.createElement('button');\r\n        let btnEliminarProducto = document.createElement('button');\r\n\r\n        precioTotal += producto.price * carrito[key];\r\n\r\n        img.src = producto.image;\r\n        titulo.innerHTML = producto.title;\r\n        precio.innerHTML = producto.price;\r\n        unidades.innerHTML = carrito[key];\r\n\r\n        unidades.className = 'unidadesCarrito';\r\n        btnAgregar.innerHTML = '<i class=\"bi bi-plus-circle\"> </i> <span>Agregar</span>';\r\n        btnQuitarUnidades.innerHTML = '<i class=\"bi bi-x-circle\"></i> <span>Quitar</span>';\r\n        btnEliminarProducto.innerHTML = '<i class=\"bi bi-trash\"></i> <span>Eliminar del Carrito</span>';\r\n\r\n        btnAgregar.addEventListener('click', (e) => {\r\n            if (e.target.tagName == \"I\") {\r\n                agregarCarrito(producto.id);\r\n                actualizarUnidadesCarrito(e.target.parentNode.parentNode.querySelector(\".unidadesCarrito\"), producto.id);\r\n\r\n            }\r\n\r\n        });\r\n\r\n        btnQuitarUnidades.addEventListener('click', (e) => {\r\n            if (e.target.tagName == \"I\") {\r\n                let unid = eliminarUnidadesCarrito(producto.id);\r\n                actualizarUnidadesCarrito(e.target.parentNode.parentNode.querySelector(\".unidadesCarrito\"), producto.id);\r\n                console.log(unid);\r\n                if (unid < 1 || unid == undefined) {\r\n                    crearCarrito();\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n        btnEliminarProducto.addEventListener('click', (e) => {\r\n            if (e.target.tagName == \"I\") {\r\n                eliminarProductoCarrito(producto.id);\r\n                crearCarrito();\r\n\r\n            }\r\n        });\r\n\r\n        agregarHijos([img, titulo, precio, unidades, btnAgregar, btnQuitarUnidades, btnEliminarProducto], li);\r\n        listaCarrito.appendChild(li);\r\n\r\n    }\r\n\r\n    btnRealizarPedido.innerHTML = \"Realizar Pedido\";\r\n    pPrecio.innerHTML = \"Precio Total: \" + precioTotal;\r\n\r\n    h1Carrito.textContent = \"Carrito\";\r\n    agregarHijos([h1Carrito, listaCarrito, pPrecio, btnRealizarPedido], sectionCarrito);\r\n    contenido.appendChild(sectionCarrito);\r\n}\r\n\r\nfunction actualizarUnidadesCarrito(elemento, id) {\r\n    console.log(obtenerUnidadesProductoCarrito(id));\r\n\r\n    elemento.innerHTML = obtenerUnidadesProductoCarrito(id);\r\n}\r\n\r\nfunction eliminarUnidadesCarrito(id) {\r\n    let carrito = obtenerCarrito();\r\n    if ((carrito[id] - 1) < 1) {\r\n        delete carrito[id];\r\n\r\n    } else {\r\n        carrito[id]--;\r\n    }\r\n\r\n\r\n    localStorage.setItem('carrito', JSON.stringify(carrito));\r\n    return carrito[id];\r\n}\r\n\r\nfunction eliminarProductoCarrito(id) {\r\n    let carrito = obtenerCarrito();\r\n    delete carrito[id];\r\n    localStorage.setItem('carrito', JSON.stringify(carrito));\r\n\r\n}\r\n\r\n/**\r\n * Obtiene las unidades que hay de un producto en el carrito\r\n * @param {*} id Id del producto\r\n * @returns Numero de unidades\r\n */\r\nfunction obtenerUnidadesProductoCarrito(id) {\r\n    let carrito = obtenerCarrito();\r\n    return carrito[id];\r\n}\r\n\r\n/**\r\n * Agrega un producto al carrito\r\n * @param {*} id Id del producto\r\n */\r\nfunction agregarCarrito(id) {\r\n    if (obtenerCarrito()) {\r\n        let carrito = obtenerCarrito();\r\n        let unidades = 1;\r\n\r\n        if (carrito[id]) {\r\n            unidades = carrito[id] + 1;\r\n        }\r\n        carrito[id] = unidades;\r\n        localStorage.setItem(\"carrito\", JSON.stringify(carrito));\r\n    } else {\r\n        let objCarrito = {};\r\n        objCarrito[id] = 1;\r\n        localStorage.setItem(\"carrito\", JSON.stringify(objCarrito));\r\n    }\r\n}\r\n\r\n/**\r\n * Obtiene el carrito\r\n * @returns Objeto Carrito\r\n */\r\nfunction obtenerCarrito() {\r\n    if (localStorage.getItem(\"carrito\")) {\r\n        return JSON.parse(localStorage.getItem(\"carrito\"));\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\n\r\n"],"names":["crearCarrito","sectionCarrito","document","createElement","id","h1Carrito","listaCarrito","btnRealizarPedido","getElementById","contenido","removeChild","pPrecio","precioTotal","carrito","obtenerCarrito","key","producto","obtenerProductoPorId","console","log","li","img","titulo","precio","unidades","btnAgregar","btnQuitarUnidades","btnEliminarProducto","price","src","image","innerHTML","title","className","addEventListener","e","target","tagName","agregarCarrito","localStorage","setItem","JSON","stringify","objCarrito","actualizarUnidadesCarrito","parentNode","querySelector","unid","eliminarUnidadesCarrito","undefined","eliminarProductoCarrito","agregarHijos","appendChild","textContent","elemento","getItem","parse","btnCarritoHeader","classList","contains","remove","productosContenedor","add","productosFiltros"],"version":3,"file":"index.65eaed76.js.map"}