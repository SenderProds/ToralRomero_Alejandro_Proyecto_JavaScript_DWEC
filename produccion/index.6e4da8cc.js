function e(){let e=document.getElementById("btnIniciarSesion").parentElement,t=document.getElementById("btnRegistro").parentElement,o=document.getElementById("btnPrincipal").parentElement,s=document.getElementById("btnCerrarSesion").parentElement;"true"==localStorage.getItem("sesion")?(e.classList.add("ocultar"),t.classList.add("ocultar"),o.classList.remove("ocultar"),s.classList.remove("ocultar")):(e.classList.remove("ocultar"),t.classList.remove("ocultar"),o.classList.add("ocultar"),s.classList.add("ocultar"))}function t([...e]){e.forEach(e=>{e.classList.contains("ocultar")||e.classList.add("ocultar")})}function o(){return JSON.parse(localStorage.getItem("users"))}e(),btnRegistro.addEventListener("click",e=>{t([formIniciarSesion,contenido]),contenido.classList.remove("display-flex"),document.body.style.height="100vh",formRegistro.classList.remove("ocultar"),formRegistro.classList.add("registro")}),formRegistro.addEventListener("keydown",e=>{" "!=!e.target.previousElementSibling.previousElementSibling.value&&null!=e.target.previousElementSibling.previousElementSibling&&(e.preventDefault(),formRegistro.appendChild(mensajeErrorFormulario("Los campos anteriores tienen que ser validos",formRegistro)))}),formRegistro.addEventListener("submit",e=>{let t,s,n,r,a,l,i,c;e.preventDefault();let d=document.querySelectorAll('#registro input:not([type="submit"])');console.log(d),Array.from(d).every(e=>""!=e.value)&&(console.log("Agregando"),t=document.getElementById("nombre").value,s=document.getElementById("apellidos").value,n=document.getElementById("telefono").value,r=document.getElementById("dni").value,a=document.getElementById("edad").value,l=document.getElementById("usernameReg").value,i=document.getElementById("passwordReg").value,(c=o()).push({name:{firstname:t,lastname:s},password:i,phone:n,username:l,dni:r,edad:a}),localStorage.setItem("users",JSON.stringify(c)))}),btnIniciarSesion.addEventListener("click",e=>{document.body.style.height="100vh",t([formRegistro,contenido]),contenido.classList.remove("display-flex"),formIniciarSesion.classList.remove("ocultar"),formIniciarSesion.classList.add("login")}),formIniciarSesion.addEventListener("submit",t=>{var s,n;let r;t.preventDefault(),s=document.getElementById("username").value,n=document.getElementById("password").value,console.log(r=o().some(e=>e.username==s&&e.password==n)),r?(localStorage.setItem("sesion",!0),formIniciarSesion.classList.add("ocultar"),contenido.classList.remove("ocultar"),contenido.classList.add("display-flex"),productosFiltros.classList.add("display-flex"),productosFiltros.classList.remove("ocultar"),productosContenedor.classList.remove("ocultar"),document.body.style.height="auto",e()):formIniciarSesion.appendChild(mensajeErrorFormulario("El nombre de usuario o clave no es correcto",formIniciarSesion))}),btnCerrarSesion.addEventListener("click",t=>{localStorage.setItem("sesion",!1),e()});
//# sourceMappingURL=index.6e4da8cc.js.map
